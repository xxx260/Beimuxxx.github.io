{
    "version": "https://jsonfeed.org/version/1",
    "title": "Welcome • All posts by \"后端\" category",
    "description": "",
    "home_page_url": "http://example.com",
    "items": [
        {
            "id": "http://example.com/2022/10/28/blog/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%90%8E%E7%AB%AF/JDK%E5%85%A8%E5%B1%80%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E9%97%AE%E9%A2%98/",
            "url": "http://example.com/2022/10/28/blog/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%90%8E%E7%AB%AF/JDK%E5%85%A8%E5%B1%80%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E9%97%AE%E9%A2%98/",
            "title": "JDK全局环境配置问题",
            "date_published": "2022-10-28T07:25:38.000Z",
            "content_html": "<h2 id=\"jdk全局环境配置问题\"><a class=\"markdownIt-Anchor\" href=\"#jdk全局环境配置问题\">#</a> JDK 全局环境配置问题</h2>\n<h4 id=\"windows10系统修改jdk版本后配置环境变量不生效\"><a class=\"markdownIt-Anchor\" href=\"#windows10系统修改jdk版本后配置环境变量不生效\">#</a> windows10 系统修改 JDK 版本后配置环境变量不生效</h4>\n<p>之前安装了个 jdk8 版本，今天突然想安装个更新版本的 jdk11 来用，但在安装好 JDK11 并配置环境变量后发现修改 JDK 版本后配置的环境变量不生效的。</p>\n<p>以前安装过安装版的 jdk 后，配置过环境变量，然后现在更换 jdk 版本且修改环境变量并不能生效，如原本安装了 1.8，现更换为 1.7（或其他版本），且配置了环境变量，但是 java -version 仍显示 1.8（任然显示原来的版本）。</p>\n<h4 id=\"原因\"><a class=\"markdownIt-Anchor\" href=\"#原因\">#</a> 原因</h4>\n<p>当使用安装版本的 JDK 程序时（一般是 1.7 版本以上），在安装结束后安装程序会自动将 java.exe、javaw.exe、javaws.exe 三个可执行文件复制到<strong> C:\\Windows\\System32 目录，这个目录在 WINDOWS 环境变量中的优先级高于 JAVA_HOME 设置的环境变量优先级，故此直接更改 JAVA_HOME 会无效。</strong></p>\n<p>另外，JDK1.8 安装版本，还会在 C:\\ProgramData\\Oracle\\Java 目录中生成一些配置文件，并同时将此目录写到环境变量中的 Path 中。</p>\n<h4 id=\"解决\"><a class=\"markdownIt-Anchor\" href=\"#解决\">#</a> 解决</h4>\n<p>删除 C:\\Windows\\System32 目录下的 java.exe、javaw.exe、javaws.exe 三个文件（如果没有就不用删）</p>\n<h5 id=\"下面奏效\"><a class=\"markdownIt-Anchor\" href=\"#下面奏效\">#</a> 下面奏效</h5>\n<p><strong>删除环境变量 Path 中 C:\\ProgramData\\Oracle\\Java\\javapath 的配置</strong></p>\n",
            "tags": [
                "blog",
                "JAVA",
                "JDK",
                "环境配置"
            ]
        },
        {
            "id": "http://example.com/2022/10/25/blog/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%90%8E%E7%AB%AF/Springboot/",
            "url": "http://example.com/2022/10/25/blog/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%90%8E%E7%AB%AF/Springboot/",
            "title": "Springboot",
            "date_published": "2022-10-25T07:25:38.000Z",
            "content_html": "<h1 id=\"srpingboot\"><a class=\"markdownIt-Anchor\" href=\"#srpingboot\">#</a> srpingboot</h1>\n<h1 id=\"一-搭建环境\"><a class=\"markdownIt-Anchor\" href=\"#一-搭建环境\">#</a> 一、搭建环境</h1>\n<h2 id=\"1-使用工具\"><a class=\"markdownIt-Anchor\" href=\"#1-使用工具\">#</a> 1、使用工具：</h2>\n<ul>\n<li>IDEA  2017.3.1</li>\n<li>Springboot 2.25</li>\n<li>mysql (数据库)</li>\n<li>Tomcat 9.0.31 (springboot2.25 支持 tomcat8.5 以上)</li>\n</ul>\n<h2 id=\"2-新建项目\"><a class=\"markdownIt-Anchor\" href=\"#2-新建项目\">#</a> 2、新建项目</h2>\n<h3 id=\"1使用idea的spring新建向导\"><a class=\"markdownIt-Anchor\" href=\"#1使用idea的spring新建向导\">#</a> （1）使用 IDEA 的 spring 新建向导</h3>\n<ul>\n<li>选择 packing 为 war</li>\n<li>Type 为 Maven Project</li>\n<li>选择 Spring Web、JDBC API、MyBatis Framework、MySQL Driver</li>\n</ul>\n<h3 id=\"2配置pom文件\"><a class=\"markdownIt-Anchor\" href=\"#2配置pom文件\">#</a> （2）配置 pom 文件</h3>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=<span class=\"string\">&quot;1.0&quot;</span> encoding=<span class=\"string\">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">project</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class=\"attr\">xmlns:xsi</span>=<span class=\"string\">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">   <span class=\"attr\">xsi:schemaLocation</span>=<span class=\"string\">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">modelVersion</span>&gt;</span>4.0.0<span class=\"tag\">&lt;/<span class=\"name\">modelVersion</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">parent</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-parent<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>2.2.5.RELEASE<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">relativePath</span>/&gt;</span> <span class=\"comment\">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">parent</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.lixp<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>demo<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>0.0.1-SNAPSHOT<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">packaging</span>&gt;</span>war<span class=\"tag\">&lt;/<span class=\"name\">packaging</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>demo<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">description</span>&gt;</span>Demo project for Spring Boot<span class=\"tag\">&lt;/<span class=\"name\">description</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">properties</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">java.version</span>&gt;</span>1.8<span class=\"tag\">&lt;/<span class=\"name\">java.version</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class=\"tag\">&lt;/<span class=\"name\">project.build.sourceEncoding</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">project.reporting.outputEncoding</span>&gt;</span>UTF-8<span class=\"tag\">&lt;/<span class=\"name\">project.reporting.outputEncoding</span>&gt;</span></span><br><span class=\"line\">       <span class=\"comment\">&lt;!--更改mysql数据库驱动版本（默认为8.0以上）--&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">mysql.version</span>&gt;</span>5.1.44<span class=\"tag\">&lt;/<span class=\"name\">mysql.version</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">properties</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--JDBC API 自动生成--&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-jdbc<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">       <span class=\"comment\">&lt;!--Spring Web 自动生成--&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-web<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">       <span class=\"comment\">&lt;!--MyBatis Framework 自动生成--&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.mybatis.spring.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>2.1.2<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- MySQL Driver 自动生成--&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>mysql<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>mysql-connector-java<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>runtime<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--Tomcat 自动生成--&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-tomcat<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>provided<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">       <span class=\"comment\">&lt;!--test 自动生成--&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-test<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>test<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">exclusions</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">exclusion</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.junit.vintage<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>junit-vintage-engine<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">exclusion</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">exclusions</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t <span class=\"comment\">&lt;!-- json插件 --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>jackson-core<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>jackson-databind<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.fasterxml.jackson.datatype<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>jackson-datatype-joda<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.fasterxml.jackson.module<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>jackson-module-parameter-names<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- 分页插件 --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.github.pagehelper<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>pagehelper-spring-boot-starter<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.2.3<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- alibaba的druid数据库连接池 --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.alibaba<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>druid-spring-boot-starter<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.1.0<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">       <span class=\"comment\">&lt;!-- 图片压缩 --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>net.coobird<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>thumbnailator<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>0.4.8<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- https://mvnrepository.com/artifact/com.alibaba/fastjson --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.alibaba<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>fastjson<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.2.62<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">build</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">plugins</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">plugin</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">plugin</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">plugin</span>&gt;</span></span><br><span class=\"line\">             <span class=\"comment\">&lt;!--配置逆向工程 --&gt;</span> </span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.mybatis.generator<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>mybatis-generator-maven-plugin<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.3.2<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">configuration</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!--需要在resources文件夹中新建mybatis-generatorconfig.xml文件，用于配置逆向工程 --&gt;</span> </span><br><span class=\"line\">                   <span class=\"tag\">&lt;<span class=\"name\">configurationFile</span>&gt;</span></span><br><span class=\"line\">                       $&#123;basedir&#125;/src/main/resources/mybatis-generatorconfig.xml</span><br><span class=\"line\">                   <span class=\"tag\">&lt;/<span class=\"name\">configurationFile</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">overwrite</span>&gt;</span>true<span class=\"tag\">&lt;/<span class=\"name\">overwrite</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">verbose</span>&gt;</span>true<span class=\"tag\">&lt;/<span class=\"name\">verbose</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">configuration</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>mysql<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>mysql-connector-java<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>5.1.44<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">plugin</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">plugins</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">build</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">project</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"3配置tomcat\"><a class=\"markdownIt-Anchor\" href=\"#3配置tomcat\">#</a> （3）配置 Tomcat</h3>\n<p><img data-src=\"%5Cimages%5C360%E6%88%AA%E5%9B%BE17571114416460.png\" alt=\"\"></p>\n<p><img data-src=\"%5Cimages%5C360%E6%88%AA%E5%9B%BE17001016223129.png\" alt=\"\"></p>\n<h3 id=\"4配置webxml\"><a class=\"markdownIt-Anchor\" href=\"#4配置webxml\">#</a> （4）配置 web.xml</h3>\n<p><img data-src=\"%5Cimages%5C360%E6%88%AA%E5%9B%BE16530713375059.png\" alt=\"\"></p>\n<h3 id=\"5新建package\"><a class=\"markdownIt-Anchor\" href=\"#5新建package\">#</a> （5）新建 package</h3>\n<ul>\n<li>bean</li>\n<li>config</li>\n<li>controller</li>\n<li>dao</li>\n<li>service</li>\n<li>在 resources 目录下新建 mapper 目录</li>\n</ul>\n<h3 id=\"6配置mybatis-generatorconfigxml\"><a class=\"markdownIt-Anchor\" href=\"#6配置mybatis-generatorconfigxml\">#</a> （6）配置 mybatis-generatorconfig.xml</h3>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=<span class=\"string\">&quot;1.0&quot;</span> encoding=<span class=\"string\">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">generatorConfiguration</span></span></span><br><span class=\"line\"><span class=\"meta\">        <span class=\"keyword\">PUBLIC</span> <span class=\"string\">&quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">        <span class=\"string\">&quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">generatorConfiguration</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- targetRuntime=&quot;MyBatis3Simple&quot;:生成简单版的CRUD MyBatis3:豪华版 --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">context</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;DB2Tables&quot;</span> <span class=\"attr\">targetRuntime</span>=<span class=\"string\">&quot;MyBatis3&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- 生成文件时不生成注释 --&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">commentGenerator</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;suppressAllComments&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;true&quot;</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">commentGenerator</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- jdbcConnection：指定如何连接到目标数据库 --&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">jdbcConnection</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">driverClass</span>=<span class=\"string\">&quot;com.mysql.jdbc.Driver&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">connectionURL</span>=<span class=\"string\">&quot;jdbc:mysql://localhost:3306/test?allowMultiQueries=true&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">userId</span>=<span class=\"string\">&quot;root&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">password</span>=<span class=\"string\">&quot;root@123456&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">jdbcConnection</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--Java类型解析器 --&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">javaTypeResolver</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;forceBigDecimals&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;false&quot;</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">javaTypeResolver</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- javaModelGenerator：指定javaBean的生成策略 targetPackage=&quot;test.model&quot;：目标包名</span></span><br><span class=\"line\"><span class=\"comment\">            targetProject=&quot;\\MBGTestProject\\src&quot;：目标工程 --&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">javaModelGenerator</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">targetPackage</span>=<span class=\"string\">&quot;com.lixp.demo.bean&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">targetProject</span>=<span class=\"string\">&quot;.\\src\\main\\java&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;enableSubPackages&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;true&quot;</span> /&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;trimStrings&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;true&quot;</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">javaModelGenerator</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- sqlMapGenerator：sql映射生成策略： --&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">sqlMapGenerator</span> <span class=\"attr\">targetPackage</span>=<span class=\"string\">&quot;mapper&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                         <span class=\"attr\">targetProject</span>=<span class=\"string\">&quot;.\\src\\main\\resources&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;enableSubPackages&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;true&quot;</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">sqlMapGenerator</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- javaClientGenerator:指定mapper接口所在的位置 --&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">javaClientGenerator</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;XMLMAPPER&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                             <span class=\"attr\">targetPackage</span>=<span class=\"string\">&quot;com.lixp.demo.dao&quot;</span> <span class=\"attr\">targetProject</span>=<span class=\"string\">&quot;.\\src\\main\\java&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;enableSubPackages&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;true&quot;</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">javaClientGenerator</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- 指定要逆向分析哪些表：根据表要创建javaBean --&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">table</span> <span class=\"attr\">tableName</span>=<span class=\"string\">&quot;student_spring&quot;</span> <span class=\"attr\">domainObjectName</span>=<span class=\"string\">&quot;Student&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">table</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">table</span> <span class=\"attr\">tableName</span>=<span class=\"string\">&quot;admin&quot;</span> <span class=\"attr\">domainObjectName</span>=<span class=\"string\">&quot;Admin&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">table</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">context</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">generatorConfiguration</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"7配置配置文件applicationyml\"><a class=\"markdownIt-Anchor\" href=\"#7配置配置文件applicationyml\">#</a> （7）配置配置文件（application.yml）</h3>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># druid数据源的配置</span></span><br><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"attr\">datasource:</span></span><br><span class=\"line\">    <span class=\"attr\">type:</span> <span class=\"string\">com.alibaba.druid.pool.DruidDataSource</span></span><br><span class=\"line\">    <span class=\"attr\">url:</span> <span class=\"string\">jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=utf8</span></span><br><span class=\"line\">    <span class=\"attr\">username:</span> <span class=\"string\">root</span></span><br><span class=\"line\">    <span class=\"attr\">password:</span> <span class=\"string\">root@123456</span></span><br><span class=\"line\">    <span class=\"attr\">driver-class-name:</span> <span class=\"string\">com.mysql.jdbc.Driver</span></span><br><span class=\"line\">    <span class=\"attr\">filters:</span> <span class=\"string\">stat</span></span><br><span class=\"line\">    <span class=\"attr\">maxActive:</span> <span class=\"number\">20</span></span><br><span class=\"line\">    <span class=\"attr\">initialSize:</span> <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"attr\">maxWait:</span> <span class=\"number\">60000</span></span><br><span class=\"line\">    <span class=\"attr\">minIdle:</span> <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"attr\">timeBetweenEvictionRunsMillis:</span> <span class=\"number\">60000</span></span><br><span class=\"line\">    <span class=\"attr\">minEvictableIdleTimeMillis:</span> <span class=\"number\">300000</span></span><br><span class=\"line\">    <span class=\"attr\">validationQuery:</span> <span class=\"string\">select</span> <span class=\"string\">&#x27;x&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">testWhileIdle:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">testOnBorrow:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">    <span class=\"attr\">testOnReturn:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">    <span class=\"attr\">poolPreparedStatements:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">maxOpenPreparedStatements:</span> <span class=\"number\">20</span></span><br><span class=\"line\"><span class=\"comment\"># mybatis 的配置</span></span><br><span class=\"line\"><span class=\"attr\">mybatis:</span></span><br><span class=\"line\">  <span class=\"attr\">mapper-locations:</span> <span class=\"string\">classpath:mapper/*.xml</span>  <span class=\"comment\">#注意：一定要对应mapper映射xml文件的所在路径</span></span><br><span class=\"line\">  <span class=\"attr\">type-aliases-package:</span> <span class=\"string\">com.lixp.demo.bean</span>  <span class=\"comment\"># 注意：对应实体类的路径</span></span><br><span class=\"line\"><span class=\"comment\"># 分页插件的配置</span></span><br><span class=\"line\"><span class=\"attr\">pagehelper:</span></span><br><span class=\"line\">    <span class=\"attr\">helperDialect:</span> <span class=\"string\">mysql</span></span><br><span class=\"line\">    <span class=\"attr\">reasonable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">supportMethodsArguments:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">params:</span> <span class=\"string\">count=countSql</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"8配置druid的监控\"><a class=\"markdownIt-Anchor\" href=\"#8配置druid的监控\">#</a> （8）配置 Druid 的监控</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Configuration</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">DruidConfig</span> &#123;</span><br><span class=\"line\">    <span class=\"meta\">@ConfigurationProperties(prefix = &quot;spring.datasource&quot;)</span></span><br><span class=\"line\">    <span class=\"meta\">@Bean</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> DataSource <span class=\"title function_\">druid</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>  <span class=\"keyword\">new</span> <span class=\"title class_\">DruidDataSource</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//配置Druid的监控</span></span><br><span class=\"line\">    <span class=\"comment\">//1、配置一个管理后台的Servlet</span></span><br><span class=\"line\">    <span class=\"meta\">@Bean</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> ServletRegistrationBean <span class=\"title function_\">statViewServlet</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"type\">ServletRegistrationBean</span> <span class=\"variable\">bean</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ServletRegistrationBean</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">StatViewServlet</span>(), <span class=\"string\">&quot;/druid/*&quot;</span>);</span><br><span class=\"line\">        Map&lt;String,String&gt; initParams = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">        initParams.put(<span class=\"string\">&quot;loginUsername&quot;</span>,<span class=\"string\">&quot;root&quot;</span>);</span><br><span class=\"line\">        initParams.put(<span class=\"string\">&quot;loginPassword&quot;</span>,<span class=\"string\">&quot;root@123456&quot;</span>);</span><br><span class=\"line\">        initParams.put(<span class=\"string\">&quot;allow&quot;</span>,<span class=\"string\">&quot;&quot;</span>);<span class=\"comment\">//默认就是允许所有访问</span></span><br><span class=\"line\">        initParams.put(<span class=\"string\">&quot;deny&quot;</span>,<span class=\"string\">&quot;127.0.0.1&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        bean.setInitParameters(initParams);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> bean;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//2、配置一个web监控的filter</span></span><br><span class=\"line\">    <span class=\"meta\">@Bean</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> FilterRegistrationBean <span class=\"title function_\">webStatFilter</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"type\">FilterRegistrationBean</span> <span class=\"variable\">bean</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">FilterRegistrationBean</span>();</span><br><span class=\"line\">        bean.setFilter(<span class=\"keyword\">new</span> <span class=\"title class_\">WebStatFilter</span>());</span><br><span class=\"line\"></span><br><span class=\"line\">        Map&lt;String,String&gt; initParams = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;&gt;();</span><br><span class=\"line\">        initParams.put(<span class=\"string\">&quot;exclusions&quot;</span>,<span class=\"string\">&quot;*.js,*.css,/druid/*&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        bean.setInitParameters(initParams);</span><br><span class=\"line\"></span><br><span class=\"line\">        bean.setUrlPatterns(Arrays.asList(<span class=\"string\">&quot;/*&quot;</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span>  bean;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"9添加注解mapperscan用于扫描mapper\"><a class=\"markdownIt-Anchor\" href=\"#9添加注解mapperscan用于扫描mapper\">#</a> （9）添加注解（@MapperScan）用于扫描 Mapper</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@MapperScan(value = &quot;com.lixp.demo.dao&quot;)</span></span><br><span class=\"line\"><span class=\"meta\">@SpringBootApplication</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">DemoApplication</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">      SpringApplication.run(DemoApplication.class, args);</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"10-生成逆向工程\"><a class=\"markdownIt-Anchor\" href=\"#10-生成逆向工程\">#</a> （10） 生成逆向工程</h3>\n<p><img data-src=\"images%5C360%E6%88%AA%E5%9B%BE17860601355264.png\" alt=\"\"></p>\n<h3 id=\"运行成功后会在bean-dao-mapper目录下生成对应的文件\"><a class=\"markdownIt-Anchor\" href=\"#运行成功后会在bean-dao-mapper目录下生成对应的文件\">#</a> <mark>运行成功后会在：bean、dao、mapper 目录下生成对应的文件</mark></h3>\n<h3 id=\"11在controller包下创建controller进行测试\"><a class=\"markdownIt-Anchor\" href=\"#11在controller包下创建controller进行测试\">#</a> （11）在 Controller 包下创建 controller 进行测试</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Controller</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">AdminController</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> AdminMapper mapper;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"type\">Logger</span> <span class=\"variable\">logger</span> <span class=\"operator\">=</span> LoggerFactory.getLogger(AdminController.class);</span><br><span class=\"line\">    <span class=\"meta\">@ResponseBody</span></span><br><span class=\"line\">    <span class=\"meta\">@RequestMapping(&quot;/test&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Admin <span class=\"title function_\">test</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        logger.info(mapper.toString());</span><br><span class=\"line\">        <span class=\"type\">Admin</span> <span class=\"variable\">admin</span> <span class=\"operator\">=</span> mapper.selectByPrimaryKey(<span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> admin;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h1 id=\"二-crud操作\"><a class=\"markdownIt-Anchor\" href=\"#二-crud操作\">#</a> 二、Crud 操作</h1>\n<h2 id=\"1-编写返回信息类\"><a class=\"markdownIt-Anchor\" href=\"#1-编写返回信息类\">#</a> 1、编写返回信息类</h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//设置返回信息对象</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Msg</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> code; <span class=\"comment\">//设置返回码</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String message; <span class=\"comment\">//设置返回的文本消息</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> Map&lt;String,Object&gt; data; <span class=\"comment\">//附加数据</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//成功的话返回码为20000</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> Msg <span class=\"title function_\">success</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"type\">Msg</span> <span class=\"variable\">result</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Msg</span>();</span><br><span class=\"line\">        result.setCode(<span class=\"number\">20000</span>);</span><br><span class=\"line\">        result.setMessage(<span class=\"string\">&quot;OK&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//失败的话返回码为10000</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> Msg <span class=\"title function_\">fail</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"type\">Msg</span> <span class=\"variable\">result</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Msg</span>();</span><br><span class=\"line\">        result.setCode(<span class=\"number\">10000</span>);</span><br><span class=\"line\">        result.setMessage(<span class=\"string\">&quot;err&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//添加返回数据</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Msg <span class=\"title function_\">add</span><span class=\"params\">(String key,Object object)</span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.getData().put(key,object);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">getCode</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> code;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Msg <span class=\"title function_\">setCode</span><span class=\"params\">(<span class=\"type\">int</span> code)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.code = code;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getMessage</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> message;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Msg <span class=\"title function_\">setMessage</span><span class=\"params\">(String message)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.message = message;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Map&lt;String, Object&gt; <span class=\"title function_\">getData</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> data;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Msg <span class=\"title function_\">setData</span><span class=\"params\">(Map&lt;String, Object&gt; data)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.data = data;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"特别说明json数据传递\"><a class=\"markdownIt-Anchor\" href=\"#特别说明json数据传递\">#</a> 特别说明 ——json 数据传递</h2>\n<h3 id=\"1date数据类型的设置\"><a class=\"markdownIt-Anchor\" href=\"#1date数据类型的设置\">#</a> （1）Date 数据类型的设置</h3>\n<ul>\n<li>在数据传递过程中，Json 中的 Date 不能被自动识别，因为 json 中的日期为 string 类型，而 bean 中的日期为 Date 类型，因此必须进行转换，转换方法在 bean 中进行设置 (加注解)</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//要接收日期格式的json数据</span></span><br><span class=\"line\"><span class=\"meta\">@DateTimeFormat(pattern=&quot;yyyy-MM-dd&quot;)</span></span><br><span class=\"line\"><span class=\"meta\">@JsonFormat(locale=&quot;zh&quot;, timezone=&quot;GMT+8&quot;, pattern=&quot;yyyy-MM-dd&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> Date time;</span><br></pre></td></tr></table></figure>\n<h3 id=\"2数据的发送与接收\"><a class=\"markdownIt-Anchor\" href=\"#2数据的发送与接收\">#</a> （2）数据的发送与接收</h3>\n<h4 id=\"json数据的请求头有两种\"><a class=\"markdownIt-Anchor\" href=\"#json数据的请求头有两种\">#</a> json 数据的请求头有两种</h4>\n<ul>\n<li><mark>Content-type:  application/x-www-form-urlencoded 为表单数据</mark></li>\n<li><mark>Content-Type：application/json;charset=utf-8 为普通的 json 数据</mark></li>\n<li>在接收请求的时候要注意看这两种数据</li>\n</ul>\n<h4 id=\"1applicationx-www-form-urlencoded\"><a class=\"markdownIt-Anchor\" href=\"#1applicationx-www-form-urlencoded\">#</a> 1）application/x-www-form-urlencoded</h4>\n<p>这种方式是以表单方式进行数据发送</p>\n<p>发送方：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">this</span>.$http(&#123;</span><br><span class=\"line\">  <span class=\"attr\">method</span>: <span class=\"string\">&#x27;post&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">url</span>: <span class=\"string\">&#x27;http://127.0.0.1:8080/JsonTest/saveStudent&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">headers</span>: &#123;<span class=\"string\">&#x27;Content-type&#x27;</span>: <span class=\"string\">&#x27;application/x-www-form-urlencoded&#x27;</span>&#125;,</span><br><span class=\"line\">  params :  <span class=\"variable language_\">this</span>.<span class=\"property\">form</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p>接收方：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@PostMapping(&quot;/saveStudent&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Msg <span class=\"title function_\">addStudent</span><span class=\"params\">( Student student)</span>  &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    System.out.println(student);</span><br><span class=\"line\">    <span class=\"type\">boolean</span> <span class=\"variable\">flag</span> <span class=\"operator\">=</span> studentService.saveStudent(student);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (flag)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Msg.success();</span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">return</span> Msg.fail();</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"2applicationjsoncharsetutf-8\"><a class=\"markdownIt-Anchor\" href=\"#2applicationjsoncharsetutf-8\">#</a> 2）application/json;charset=utf-8</h4>\n<ul>\n<li>axio 方式默认发送该请求头，该请求头一般用 @RequestBody 注解接收分为两种情况</li>\n<li>方式一:</li>\n</ul>\n<p>发送方可发送多个对象：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">this</span>.$http(&#123;</span><br><span class=\"line\">    <span class=\"attr\">method</span>: <span class=\"string\">&#x27;post&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">url</span>: <span class=\"string\">&#x27;http://127.0.0.1:8080/JsonTest/saveStudent&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">data</span>:&#123;</span><br><span class=\"line\">      <span class=\"attr\">student</span>: <span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">form</span>)</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">  &#125;)</span><br></pre></td></tr></table></figure>\n<p>该方式可以发送多个 object</p>\n<p>接收方，要使用阿里的 fastjson 进行解析，因为在发送的时候是以字符串的形式发送的：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@PostMapping(&quot;/saveStudent&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Msg <span class=\"title function_\">addStudent</span><span class=\"params\">(<span class=\"meta\">@RequestBody</span> Map&lt;String,Object&gt; map)</span>  &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"type\">Student</span> <span class=\"variable\">student</span> <span class=\"operator\">=</span> JSON.parseObject(map.get(<span class=\"string\">&quot;student&quot;</span>).toString(),Student.class);</span><br><span class=\"line\">    <span class=\"type\">boolean</span> <span class=\"variable\">flag</span> <span class=\"operator\">=</span> studentService.saveStudent(student);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (flag)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> Msg.success();</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">return</span> Msg.fail();</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>方式二</li>\n</ul>\n<p>发送方：默认只发送一个对象</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">this.$http(&#123;</span><br><span class=\"line\">       method: &#x27;post&#x27;,</span><br><span class=\"line\">       url: &#x27;http://127.0.0.1:8080/JsonTest/saveStudent&#x27;,</span><br><span class=\"line\">       data: this.form</span><br><span class=\"line\">     &#125;)</span><br></pre></td></tr></table></figure>\n<p>接收方，可以自动封装，前提是对象中的属性和 bean 中一致：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@PostMapping(&quot;/saveStudent&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> Msg <span class=\"title function_\">addStudent</span><span class=\"params\">(<span class=\"meta\">@RequestBody</span> Student student)</span>  &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    System.out.println(student);</span><br><span class=\"line\">    <span class=\"type\">boolean</span> <span class=\"variable\">flag</span> <span class=\"operator\">=</span> studentService.saveStudent(student);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (flag)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Msg.success();</span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">return</span> Msg.fail();</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"2-编写web配置文件允许跨域请求\"><a class=\"markdownIt-Anchor\" href=\"#2-编写web配置文件允许跨域请求\">#</a> 2、编写 web 配置文件，允许跨域请求</h2>\n<ul>\n<li>在 config 包中创建 webconfig 类，继承 WebMvcConfigurer 文件</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Configuration</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">MyWebConfig</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">WebMvcConfigurer</span> &#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">addResourceHandlers</span><span class=\"params\">(ResourceHandlerRegistry registry)</span> &#123;</span><br><span class=\"line\">        registry</span><br><span class=\"line\">                .addResourceHandler(<span class=\"string\">&quot;/static/**&quot;</span>)</span><br><span class=\"line\">                .addResourceLocations(<span class=\"string\">&quot;classpath:/static/&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 添加全局的配置 允许跨域请求</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">addCorsMappings</span><span class=\"params\">(CorsRegistry registry)</span> &#123;</span><br><span class=\"line\">        registry.addMapping(<span class=\"string\">&quot;/**&quot;</span>)</span><br><span class=\"line\">                .allowedOrigins(<span class=\"string\">&quot;*&quot;</span>)</span><br><span class=\"line\">                .allowedMethods(<span class=\"string\">&quot;POST&quot;</span>, <span class=\"string\">&quot;GET&quot;</span>, <span class=\"string\">&quot;PUT&quot;</span>, <span class=\"string\">&quot;OPTIONS&quot;</span>, <span class=\"string\">&quot;DELETE&quot;</span>)</span><br><span class=\"line\">                .maxAge(<span class=\"number\">3600</span>)</span><br><span class=\"line\">                .allowCredentials(<span class=\"literal\">true</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"3-写对应的控制器\"><a class=\"markdownIt-Anchor\" href=\"#3-写对应的控制器\">#</a> 3、写对应的控制器</h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@RestController</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">StudentController</span> &#123;</span><br><span class=\"line\">    <span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    StudentService studentService;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    StudentClassService studentClassService;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//查询全部学生</span></span><br><span class=\"line\">    <span class=\"meta\">@RequestMapping(&quot;/findAll&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Msg <span class=\"title function_\">findAll</span><span class=\"params\">(<span class=\"meta\">@RequestParam(value = &quot;pageNum&quot;,defaultValue = &quot;1&quot;)</span>Integer pageNum)</span>&#123;</span><br><span class=\"line\">        PageHelper.startPage(pageNum,<span class=\"number\">10</span>);</span><br><span class=\"line\">        List&lt;Student&gt; studentList = studentService.findAllStudent();</span><br><span class=\"line\">        <span class=\"type\">PageInfo</span> <span class=\"variable\">page</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">PageInfo</span>(studentList,<span class=\"number\">5</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Msg.success().add(<span class=\"string\">&quot;ext&quot;</span>,page);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//按主键查询</span></span><br><span class=\"line\">    <span class=\"meta\">@GetMapping(&quot;/findById/&#123;id&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Msg <span class=\"title function_\">findById</span><span class=\"params\">(<span class=\"meta\">@PathVariable(&quot;id&quot;)</span>Integer id)</span>&#123;</span><br><span class=\"line\">        <span class=\"type\">Student</span> <span class=\"variable\">student</span> <span class=\"operator\">=</span> studentService.findStudentById(id);</span><br><span class=\"line\">        List&lt;StudentClass&gt; studentClasses = studentClassService.findAll();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Msg.success().add(<span class=\"string\">&quot;student&quot;</span>,student).add(<span class=\"string\">&quot;studentclass&quot;</span>,studentClasses);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@GetMapping(&quot;/addStudent&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Msg <span class=\"title function_\">find</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        List&lt;StudentClass&gt; studentClasses = studentClassService.findAll();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Msg.success().add(<span class=\"string\">&quot;studentclass&quot;</span>,studentClasses);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//按姓名（模糊）查询</span></span><br><span class=\"line\">    <span class=\"meta\">@GetMapping(&quot;/findByName&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Msg <span class=\"title function_\">findByName</span><span class=\"params\">(<span class=\"meta\">@RequestParam(&quot;name&quot;)</span> String name,<span class=\"meta\">@RequestParam(value = &quot;pageNum&quot;,defaultValue = &quot;1&quot;)</span>Integer pageNum)</span>&#123;</span><br><span class=\"line\">        PageHelper.startPage(pageNum,<span class=\"number\">10</span>);</span><br><span class=\"line\">        <span class=\"comment\">//List&lt;Student&gt; studentList = studentService.findAllStudent();</span></span><br><span class=\"line\">        List&lt;Student&gt; students = studentService.findStudentByName(name);</span><br><span class=\"line\">        <span class=\"type\">PageInfo</span> <span class=\"variable\">page</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">PageInfo</span>(students,<span class=\"number\">5</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Msg.success().add(<span class=\"string\">&quot;ext&quot;</span>,page);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//return Msg.success().add(&quot;ext&quot;,students);</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//增加（修改）信息</span></span><br><span class=\"line\">    <span class=\"meta\">@PostMapping(&quot;/saveStudent&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Msg <span class=\"title function_\">addStudent</span><span class=\"params\">( <span class=\"meta\">@RequestBody</span> Student student)</span>  &#123;</span><br><span class=\"line\">        System.out.println(student);</span><br><span class=\"line\">        <span class=\"type\">boolean</span> <span class=\"variable\">flag</span> <span class=\"operator\">=</span> studentService.saveStudent(student);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (flag)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> Msg.success();</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">return</span> Msg.fail();</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//修改信息</span></span><br><span class=\"line\"><span class=\"comment\">//    @PutMapping(&quot;/saveStudent&quot;)</span></span><br><span class=\"line\"><span class=\"comment\">//    public Msg updataById(Student student)&#123;</span></span><br><span class=\"line\"><span class=\"comment\">//        out.println(student);</span></span><br><span class=\"line\"><span class=\"comment\">//        boolean flag = studentService.saveStudent(student);</span></span><br><span class=\"line\"><span class=\"comment\">//        if (flag)&#123;</span></span><br><span class=\"line\"><span class=\"comment\">//            return Msg.success();</span></span><br><span class=\"line\"><span class=\"comment\">//        &#125;else return Msg.fail();</span></span><br><span class=\"line\"><span class=\"comment\">//    &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//删除信息</span></span><br><span class=\"line\">    <span class=\"meta\">@DeleteMapping(&quot;/delStudent/&#123;id&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Msg <span class=\"title function_\">delById</span><span class=\"params\">(<span class=\"meta\">@PathVariable(&quot;id&quot;)</span> Integer id)</span>&#123;</span><br><span class=\"line\">        <span class=\"type\">boolean</span> <span class=\"variable\">flag</span> <span class=\"operator\">=</span> studentService.delById(id);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (flag)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> Msg.success();</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">return</span> Msg.fail();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"4-写对应的服务\"><a class=\"markdownIt-Anchor\" href=\"#4-写对应的服务\">#</a> 4、写对应的服务</h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Service</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">StudentService</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    StudentMapper studentMapper;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;Student&gt; <span class=\"title function_\">findAllStudent</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        List&lt;Student&gt; list = studentMapper.selectByExample(<span class=\"literal\">null</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> list;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Student <span class=\"title function_\">findStudentById</span><span class=\"params\">(Integer id)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Student</span> <span class=\"variable\">student</span> <span class=\"operator\">=</span> studentMapper.selectByPrimaryKey(id);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> student;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;Student&gt; <span class=\"title function_\">findStudentByName</span><span class=\"params\">(String name)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">StudentExample</span> <span class=\"variable\">example</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">StudentExample</span>();</span><br><span class=\"line\">        StudentExample.<span class=\"type\">Criteria</span> <span class=\"variable\">criteria</span> <span class=\"operator\">=</span> example.createCriteria();</span><br><span class=\"line\">        criteria.andNameLike(<span class=\"string\">&quot;%&quot;</span>+name+<span class=\"string\">&quot;%&quot;</span>);</span><br><span class=\"line\">        List&lt;Student&gt; students = studentMapper.selectByExample(example);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> students;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">saveStudent</span><span class=\"params\">(Student student)</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(student.getId()==<span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            out.println(student);</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> studentMapper.insertSelective(student);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> studentMapper.updateByPrimaryKeySelective(student);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">delById</span><span class=\"params\">(Integer id)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> studentMapper.deleteByPrimaryKey(id);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"5-写文件上传的控制器\"><a class=\"markdownIt-Anchor\" href=\"#5-写文件上传的控制器\">#</a> 5、写文件上传的控制器</h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@RestController</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">UpLoadController</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@RequestMapping(value=&quot;/fileUpload&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Msg <span class=\"title function_\">fileUpload</span><span class=\"params\">(<span class=\"meta\">@RequestParam(&quot;file&quot;)</span> MultipartFile file,</span></span><br><span class=\"line\"><span class=\"params\">                          <span class=\"meta\">@RequestParam(&quot;width&quot;)</span>Integer width,</span></span><br><span class=\"line\"><span class=\"params\">                          <span class=\"meta\">@RequestParam(&quot;hight&quot;)</span>Integer hight,</span></span><br><span class=\"line\"><span class=\"params\">                          HttpServletRequest request)</span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//获取当前时间，用于创建子文件夹：newDir</span></span><br><span class=\"line\">        <span class=\"type\">String</span> <span class=\"variable\">sPath</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;/upload/&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">SimpleDateFormat</span> <span class=\"variable\">df</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">SimpleDateFormat</span>(<span class=\"string\">&quot;yyyyMMdd&quot;</span>);</span><br><span class=\"line\">        <span class=\"type\">String</span> <span class=\"variable\">newDir</span> <span class=\"operator\">=</span> df.format(<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>())+<span class=\"string\">&quot;/&quot;</span>;</span><br><span class=\"line\">        <span class=\"type\">String</span> <span class=\"variable\">serverPath</span> <span class=\"operator\">=</span> request.getSession().getServletContext().getRealPath(sPath)+newDir;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">String</span> <span class=\"variable\">resPath</span> <span class=\"operator\">=</span> request.getContextPath()+sPath+newDir;</span><br><span class=\"line\">        out.println(<span class=\"string\">&quot;serverPath========&quot;</span>+serverPath);</span><br><span class=\"line\">        out.println(<span class=\"string\">&quot;resPath========&quot;</span>+resPath);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(file.isEmpty())&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> Msg.fail();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">String</span> <span class=\"variable\">fileName</span> <span class=\"operator\">=</span> file.getOriginalFilename();</span><br><span class=\"line\">        <span class=\"type\">String</span> <span class=\"variable\">suffix</span> <span class=\"operator\">=</span> fileName.substring(fileName.lastIndexOf(<span class=\"string\">&quot;.&quot;</span>) + <span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"type\">String</span> <span class=\"variable\">name</span> <span class=\"operator\">=</span> String.valueOf(System.currentTimeMillis())+<span class=\"string\">&quot;.&quot;</span>+suffix;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">size</span> <span class=\"operator\">=</span> (<span class=\"type\">int</span>) file.getSize();</span><br><span class=\"line\">        out.println(name + <span class=\"string\">&quot;--&gt;&quot;</span> + size);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//String path = serverPath ;</span></span><br><span class=\"line\">        <span class=\"type\">File</span> <span class=\"variable\">dest</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">File</span>(serverPath,name);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(!dest.getParentFile().exists())&#123; <span class=\"comment\">//判断文件父目录是否存在</span></span><br><span class=\"line\">            dest.getParentFile().mkdirs();</span><br><span class=\"line\">            out.println(dest.getParentFile().getAbsolutePath());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">//file.transferTo(dest); //保存文件</span></span><br><span class=\"line\">            <span class=\"comment\">//压缩图片后保存</span></span><br><span class=\"line\">            Thumbnails.of(file.getInputStream())</span><br><span class=\"line\">                    .size(width,hight)</span><br><span class=\"line\"><span class=\"comment\">//                    .keepAspectRatio(false)</span></span><br><span class=\"line\">                    .toFile(dest.getPath());</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"type\">String</span> <span class=\"variable\">img</span> <span class=\"operator\">=</span> resPath + name;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> Msg.success().add(<span class=\"string\">&quot;img&quot;</span>,img);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (IllegalStateException e) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// TODO Auto-generated catch block</span></span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">            <span class=\"keyword\">return</span> Msg.fail();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (IOException e) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// TODO Auto-generated catch block</span></span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">            <span class=\"keyword\">return</span> Msg.fail();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"6-实现将excel导入到数据库功能\"><a class=\"markdownIt-Anchor\" href=\"#6-实现将excel导入到数据库功能\">#</a> 6、实现将 Excel 导入到数据库功能</h2>\n<h3 id=\"1maven配置\"><a class=\"markdownIt-Anchor\" href=\"#1maven配置\">#</a> （1）maven 配置</h3>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--处理Excel--&gt;</span></span><br><span class=\"line\">       <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.apache.poi<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>poi<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>3.13<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">       <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">       <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.apache.poi<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>poi-ooxml<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>3.13<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">       <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"2批量导入的实现\"><a class=\"markdownIt-Anchor\" href=\"#2批量导入的实现\">#</a> （2）批量导入的实现</h3>\n<ul>\n<li>\n<p>dao 层配置</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">boolean</span> <span class=\"title function_\">batchInsert</span><span class=\"params\">(List&lt;Student&gt; list)</span>;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>mapper 配置</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">insert</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;batchInsert&quot;</span> <span class=\"attr\">parameterType</span>=<span class=\"string\">&quot;java.util.List&quot;</span>&gt;</span></span><br><span class=\"line\">    insert into student_spring (id, name, num,img, classname, status, time, content)</span><br><span class=\"line\">    values</span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">foreach</span> <span class=\"attr\">collection</span> =<span class=\"string\">&quot;list&quot;</span> <span class=\"attr\">item</span> =<span class=\"string\">&quot;Student&quot;</span> <span class=\"attr\">index</span> =<span class=\"string\">&quot;index&quot;</span> <span class=\"attr\">separator</span> =<span class=\"string\">&quot;,&quot;</span>&gt;</span></span><br><span class=\"line\">     (#&#123;Student.id,jdbcType=INTEGER&#125;, #&#123;Student.name,jdbcType=VARCHAR&#125;, #&#123;Student.num,jdbcType=VARCHAR&#125;,</span><br><span class=\"line\">      #&#123;Student.img,jdbcType=VARCHAR&#125;, #&#123;Student.classname,jdbcType=VARCHAR&#125;, #&#123;Student.status,jdbcType=INTEGER&#125;,</span><br><span class=\"line\">      #&#123;Student.time,jdbcType=DATE&#125;, #&#123;Student.content,jdbcType=LONGVARCHAR&#125;)</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">foreach</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">insert</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"3service层实现\"><a class=\"markdownIt-Anchor\" href=\"#3service层实现\">#</a> （3）service 层实现</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> List&lt;Student&gt; <span class=\"title function_\">getListByExcel</span><span class=\"params\">(InputStream in, String fileName)</span> <span class=\"keyword\">throws</span> Exception &#123;</span><br><span class=\"line\">       List&lt;Student&gt; list = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;Student&gt;();</span><br><span class=\"line\">       <span class=\"comment\">//创建Excel工作薄</span></span><br><span class=\"line\">       <span class=\"type\">Workbook</span> <span class=\"variable\">work</span> <span class=\"operator\">=</span> <span class=\"built_in\">this</span>.getWorkbook(in, fileName);</span><br><span class=\"line\">       <span class=\"keyword\">if</span> (<span class=\"literal\">null</span> == work) &#123;</span><br><span class=\"line\">           <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Exception</span>(<span class=\"string\">&quot;创建Excel工作薄为空！&quot;</span>);</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"type\">Sheet</span> <span class=\"variable\">sheet</span> <span class=\"operator\">=</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">       <span class=\"type\">Row</span> <span class=\"variable\">row</span> <span class=\"operator\">=</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">       <span class=\"type\">Cell</span> <span class=\"variable\">cell</span> <span class=\"operator\">=</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">       <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; work.getNumberOfSheets(); i++) &#123;</span><br><span class=\"line\">           sheet = work.getSheetAt(i);</span><br><span class=\"line\">           <span class=\"keyword\">if</span> (sheet == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">               <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">           <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; j &lt;= sheet.getLastRowNum(); j++) &#123;</span><br><span class=\"line\">               row = sheet.getRow(j);</span><br><span class=\"line\">               <span class=\"keyword\">if</span> (row == <span class=\"literal\">null</span> || row.getFirstCellNum() == j) &#123;</span><br><span class=\"line\">                   <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">               <span class=\"type\">Student</span> <span class=\"variable\">student</span>  <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Student</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">               <span class=\"keyword\">if</span>(row.getCell(<span class=\"number\">1</span>)!=<span class=\"literal\">null</span>)&#123;</span><br><span class=\"line\">                   student.setName(row.getCell(<span class=\"number\">1</span>).getStringCellValue());</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">               <span class=\"keyword\">if</span>(row.getCell(<span class=\"number\">2</span>)!=<span class=\"literal\">null</span>)&#123;</span><br><span class=\"line\">                   student.setNum(row.getCell(<span class=\"number\">2</span>).getStringCellValue());</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">               list.add(student);</span><br><span class=\"line\"></span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       work.close();</span><br><span class=\"line\">       <span class=\"keyword\">return</span> list;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    * 判断文件格式</span></span><br><span class=\"line\"><span class=\"comment\">    *</span></span><br><span class=\"line\"><span class=\"comment\">    * <span class=\"doctag\">@param</span> inStr</span></span><br><span class=\"line\"><span class=\"comment\">    * <span class=\"doctag\">@param</span> fileName</span></span><br><span class=\"line\"><span class=\"comment\">    * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">    * <span class=\"doctag\">@throws</span> Exception</span></span><br><span class=\"line\"><span class=\"comment\">    */</span></span><br><span class=\"line\">   <span class=\"keyword\">public</span> Workbook <span class=\"title function_\">getWorkbook</span><span class=\"params\">(InputStream inStr, String fileName)</span> <span class=\"keyword\">throws</span> Exception &#123;</span><br><span class=\"line\">       <span class=\"type\">Workbook</span> <span class=\"variable\">workbook</span> <span class=\"operator\">=</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">       <span class=\"type\">String</span> <span class=\"variable\">fileType</span> <span class=\"operator\">=</span> fileName.substring(fileName.lastIndexOf(<span class=\"string\">&quot;.&quot;</span>));</span><br><span class=\"line\">       <span class=\"keyword\">if</span> (<span class=\"string\">&quot;.xls&quot;</span>.equals(fileType)) &#123;</span><br><span class=\"line\">           workbook = <span class=\"keyword\">new</span> <span class=\"title class_\">HSSFWorkbook</span>(inStr);</span><br><span class=\"line\">       &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"string\">&quot;.xlsx&quot;</span>.equals(fileType)) &#123;</span><br><span class=\"line\">           workbook = <span class=\"keyword\">new</span> <span class=\"title class_\">XSSFWorkbook</span>(inStr);</span><br><span class=\"line\">       &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">           <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Exception</span>(<span class=\"string\">&quot;请上传excel文件！&quot;</span>);</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> workbook;</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"4controller层实现\"><a class=\"markdownIt-Anchor\" href=\"#4controller层实现\">#</a> （4）controller 层实现</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@RequestMapping(value=&quot;/xlxUpload&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Msg <span class=\"title function_\">fileUpload</span><span class=\"params\">(<span class=\"meta\">@RequestParam(&quot;file&quot;)</span> MultipartFile file,</span></span><br><span class=\"line\"><span class=\"params\">                          HttpServletRequest request)</span> <span class=\"keyword\">throws</span> IOException &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">InputStream</span> <span class=\"variable\">is</span> <span class=\"operator\">=</span> file.getInputStream();</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            List&lt;Student&gt; list = studentService.getListByExcel(is,file.getOriginalFilename());</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(studentMapper.batchInsert(list))&#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> Msg.success();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>  Msg.fail();</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n",
            "tags": [
                "blog",
                "JAVA",
                "Redis"
            ]
        },
        {
            "id": "http://example.com/2022/10/25/blog/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%90%8E%E7%AB%AF/Redis%E5%90%AF%E5%8A%A8%E9%97%AA%E9%80%80/",
            "url": "http://example.com/2022/10/25/blog/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%90%8E%E7%AB%AF/Redis%E5%90%AF%E5%8A%A8%E9%97%AA%E9%80%80/",
            "title": "Redis启动闪退",
            "date_published": "2022-10-25T07:25:38.000Z",
            "content_html": "<h2 id=\"redis启动时闪退\"><a class=\"markdownIt-Anchor\" href=\"#redis启动时闪退\">#</a> redis 启动时闪退</h2>\n<h4 id=\"遇到的解决方法\"><a class=\"markdownIt-Anchor\" href=\"#遇到的解决方法\">#</a> 遇到的解决方法：</h4>\n<h5 id=\"任务管理器-服务-停止redis服务进程\"><a class=\"markdownIt-Anchor\" href=\"#任务管理器-服务-停止redis服务进程\">#</a> 任务管理器 -&gt; 服务 -&gt; 停止 redis 服务进程</h5>\n<h4 id=\"任务管理器-打开服务-将reisd关闭-然后启动redis相应程序\"><a class=\"markdownIt-Anchor\" href=\"#任务管理器-打开服务-将reisd关闭-然后启动redis相应程序\">#</a> 任务管理器 -&gt; 打开服务 -&gt; 将 reisd 关闭 - &gt; 然后启动 redis 相应程序</h4>\n<p><strong>1.Windows+r 进入 cmd，</strong><br>\n<strong>2.cd 进入到 redis-server.exe 所在文件夹下，</strong><br>\n<strong>3. 写入 redis-server.exe redis.windows.conf ，回车</strong><img data-src=\"https://www.likecs.com/default/index/img?u=aHR0cHM6Ly9waWFuc2hlbi5jb20vaW1hZ2VzLzc2MS8xYTE0YjNjMzUxZDAxZTcyOTZmNzkwY2JhNGY2ZmNiMS5wbmc=\" alt=\"redis启动时闪退，史上最详细的解决办法，看完还解决不了来找我\"><br>\n<strong> 4. 如出现如图所示错误，打开 redis.windows.conf，有一行 bind 127.0.0.1 ，前面不要有</strong></p>\n<p><strong>#</strong><img data-src=\"https://www.likecs.com/default/index/img?u=aHR0cHM6Ly9waWFuc2hlbi5jb20vaW1hZ2VzLzQ5NC82ZjljMGM2MThiOWVmNDdjZmVlYzYzOGNhN2JkZDIyNi5wbmc=\" alt=\"redis启动时闪退，史上最详细的解决办法，看完还解决不了来找我\"></p>\n<p><strong>5. 保存后退出，再来 redis-server.exe redis.windows.conf，如果还报错，按下图输入</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//先输入密码</span><br><span class=\"line\">127.0.0.1:6379&gt;auth &quot;123456&quot;</span><br><span class=\"line\">ok</span><br></pre></td></tr></table></figure>\n<p><strong>6. 再如图下输入</strong></p>\n<p><img data-src=\"https://www.likecs.com/default/index/img?u=aHR0cHM6Ly9waWFuc2hlbi5jb20vaW1hZ2VzLzY0MS82MzllMGE0ZTczNTBmMzJiYWQxMjZhM2YzMDcwYjczOS5KUEVH\" alt=\"redis启动时闪退，史上最详细的解决办法，看完还解决不了来找我\"></p>\n",
            "tags": [
                "blog",
                "JAVA",
                "Redis"
            ]
        }
    ]
}